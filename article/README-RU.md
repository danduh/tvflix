–≠—Ç–æ –¥–∞–∂–µ –Ω–µ —Å—Ç–∞—Ç—å—è –∞ —Å–∫–æ—Ä–µ–µ –º–∏–Ω–∏ –≤—Ä–æ–∫—à–æ–ø‚Ä¶ –Ø —Ö–æ—á—É –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –≤–∞—à–µ–º—É –≤–Ω–∏–º–∞–Ω–∏—é –º–∞–ª–µ–Ω—å–∫—É—é –∞–ø–ø–ª–∏–∫–∞—Ü–∏—é, –Ω–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—É—é –∫–∞
—ç–Ω—Ç–µ—Ä–ø—Ä–∞–π–∑.

–í 90% —Å–ª—É—á–∞–µ–≤, –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –Ω–æ–≤—ã—Ö –∞–ø–ø–ª–∏–∫–∞—Ü–∏–π (–∫–∞–∫ –≤ —Å—Ç–∞—Ä—Ç–∞–ø–∞—Ö —Ç–∞–∫ –∏ –≤ –±–æ–ª—å—à–∏—Ö –∫–æ–º–ø–∞–Ω–∏—è—Ö) —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö —à–∞–≥–æ–≤.

–î–µ–ª–∞–µ–º POC, –µ—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç - –∏—â–µ–º –¥–µ–Ω—å–≥–∏ –∏–ª–∏ –±–µ—Ä–µ–º –∞–ø—Ä—É–≤ –æ—Ç –Ω–∞—á–∞–ª—å—Å—Ç–≤–∞ –ò–∑ POC —Å—Ç—Ä–æ–∏–º MVP, —Å—Ç—Ä–æ–∏–º –±—ã—Å—Ç—Ä–æ‚Ä¶. –¢—É—Ç –ª–∏–±–æ
–¥–æ–∫–∞–∑–∞—Ç—å –∏–Ω–≤–µ—Å—Ç–æ—Ä–∞–º –ª–∏–±–æ –Ω–∞—á–∞–ª—å—Å—Ç–≤—É. –ü–æ—Å—Ç—Ä–æ–∏–ª–∏, –∏ –≤—Ä–æ–¥–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∏ –¥–∞–∂–µ —Å–¥–µ–ª–∞–ª–∏ —Ä–µ–ª–∏–∑ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω. –ü–æ—à–ª–∏ –∫–ª–∏–µ–Ω—Ç—ã‚Ä¶
–ö–ª–∏–µ–Ω—Ç—ã (–Ω—É –∏–ª–∏ –ø—Ä–æ–¥–∞–∫—Ç) –Ω–∞—á–∞–ª–∏ –ø—Ä–æ—Å–∏—Ç—å –Ω–æ–≤—ã–µ —Ñ–∏—à–µ—á–∫–∏, –¥–∞ –∏ –±–∞–≥–∏ –Ω–∞—á–∞–ª–∏ –ø–æ—è–≤–ª—è—Ç—Å—è‚Ä¶ –ò —Ç—É—Ç –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –≤–æ–π–Ω–∞ –≤ –∫–æ—Ä–æ—Ç–∫–æ–µ
–æ–¥–µ—è–ª–æ. –¢–∞–º –ø–æ—á–∏–Ω–∏–ª–∏ —Ç—É—Ç –ø–æ–ª–æ–º–∞–ª–æ—Å—å, —Ç–∞–º –¥–æ–±–∞–≤–∏–ª–∏ —Ç—É—Ç —É–ø–∞–ª–æ. –ê –ø—Ä–æ –ø–µ—Ä—Ñ–æ—Ä–º–∞–Ω—Å –≤–æ–æ–±—â–µ –Ω–∏–∫—Ç–æ –Ω–µ –≥–æ–≤–æ—Ä–∏—Ç. –ò –≤–æ—Ç –ø—Ä–æ—à–µ–ª –≥–æ–¥
–ø–æ–ª—Ç–æ—Ä–∞. –¢–µ –∫—Ç–æ –Ω–∞—á–∏–Ω–∞–ª–∏ –ø—Ä–æ–µ–∫—Ç —É–∂–µ –Ω–µ –≤ —Ñ–∏—Ä–º–µ. –ù–æ–≤—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—ã –Ω–∞ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∫–æ–¥–∞ —Å–º–æ—Ç—Ä—è—Ç –∫–∞–∫ –Ω–∞ –±–ª–∞–∫ –±–æ–∫—Å. –í –∏—Ç–æ–≥–µ
–≤—Å–µ –ø—Ä–∏—Ö–æ–¥—è—Ç –∫ –æ–¥–Ω–æ–π –∏ —Ç–æ–π –∂–µ —Ä–∞–∑–≤–∏–ª–∫–µ: —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å –≤—Å–µ, –∏–ª–∏ —Å—Ç—Ä–æ–∏—Ç—Å—è —Å 0.

–ú–æ–µ –º–Ω–µ–Ω–∏–µ, —Å—Ç—Ä–æ–∏—Ç—å —Å 0. –ò —Ç—É—Ç —É–∂–µ —Ñ–∏—Ä–º–∞ –≤—ã–¥–∞–µ—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ä–µ—Å—É—Ä—Å–æ–≤/–≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –≤—Å–µ –æ–±–¥—É–º–∞—Ç—å. –ò —Å–æ–∑–¥–∞—Ç—å
–Ω–æ—Ä–º–∞–ª—å–Ω—É—é –≤–µ–± –∞–ø–ø–ª–∏–∫–∞—Ü–∏—é —É—Ä–æ–≤–Ω—è —ç–Ω—Ç–µ—Ä–ø—Ä–∞–π–∑.

–í –¥–∞–Ω–Ω–æ–π —Å—Ç–∞—Ç—å–µ —ç–Ω—Ç–µ—Ä–ø—Ä–∞–π–∑ –∞–ø–ø–ª–∏–∫–∞—Ü–∏—è —ç—Ç–æ –Ω–µ –∞–ø–ø –¥–ª—è –±–æ–ª—å—à–æ–π –∫–æ–º–ø–∞–Ω–∏–∏ –∞ –∞–ø–ª–∏–∫–∞—Ü–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ –≤ –±–æ–ª—å—à–æ–π –∫–æ–º–ø–∞–Ω–∏–∏.
–ù–∞–ø—Ä–∏–º–µ—Ä, ‚Äú–º–∞–≥–∞–∑–∏–Ω –∞–º–∞–∑–æ–Ω, –Ω–µ—Ç—Ñ–ª–∏–∫—Å‚Äù —ç—Ç–æ –∞–ø–ø–ª–∏–∫–∞—Ü–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è —ç–Ω—Ç–µ—Ä–ø—Ä–∞–π–∑. –ò –≤–æ—Ç –æ –ø–æ–¥–æ–±–Ω—ã—Ö –∞–ø–ø–ª–∏–∫–∞—Ü–∏—è—Ö –º—ã –±—É–¥–µ–º
–≥–æ–≤–æ—Ä–∏—Ç—å.

–≠–Ω—Ç–µ—Ä–ø—Ä–∞–π–∑ –∞–ø–ø –±—É–¥–µ–º –æ—Ç–Ω–æ—Å–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏:

1) –ú–∏–Ω–∏–º—É–º –¥–≤–µ –≥—Ä—É–ø–ø—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, –∞ —Ç–æ –∏ –Ω–∞ –º–Ω–æ–≥–æ –±–æ–ª—å—à–µ
2) –ú–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–ø–Ω–∞–ª–∞ –∏ –ª–æ–≥–∏–∫–∏
3) –ú–Ω–æ–≥–æ —Ä–∞–∑–Ω—ã—Ö –≤—å—é–∑ –∏–ª–∏ —Å–µ–∫—Ü–∏–π.
4) —Å–∫–µ–π–ª –∫—Ä–∏—Ç–∏—á–µ–Ω
5) 3—Ä–¥ —Å–∞–π–¥ –¥–µ–≤–µ–ª–æ–ø–µ—Ä—Å –µ–∫—Å–ø–∏—Ä–∏–µ–Ω—Å–µ. –ö—Ç–æ —Ç–æ –º–æ–∂–µ—Ç –¥–µ–≤–µ–ª–æ–ø–∏—Ç—å —Å –Ω–∞—à–∏–º–∏ –ê–ü–ò

**–û–ø—Ä–µ–¥–µ–ª–∏–º —Ñ—Ä–æ–Ω—Ç —Ä–∞–±–æ—Ç (SCOPE)**

–î–ª—è –Ω–∞—à–µ–≥–æ –ø—Ä–∏–º–µ—Ä–∞ —è —Ä–µ—à–∏–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–ø–ø–ª–∏–∫–∞—Ü–∏—é –ø–æ—Ö–æ–∂—É—é –Ω–∞ —Ç—É –Ω–∞–¥ –∫–æ—Ç–æ—Ä–æ–π —è —Ä–∞–±–æ—Ç–∞—é –≤ –ö–∞–ª—å—Ç—É—Ä–µ.

–ù–∞—á–Ω–µ–º —Å —Å—Ö–µ–º–∞—Ç–∏—á–Ω–æ–≥–æ –∫—Ä–∞—Ç–∫–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è:

![](diagram-1.png)

–ù–∞—á–Ω–µ–º —Å DB. –¢.–∫. DB —ç—Ç–æ –Ω–µ —Å–∞–º–∞—è –º–æ—è —Å–∏–ª—å–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞, —Ç–æ –≤–º–µ—Å—Ç–æ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –Ω–µ–∫–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ –¥–∞–Ω–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ –º—ã –±—É–¥–µ–º
–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π API TMDB. –î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, –Ω–∞—à–∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –≤–º–µ—Å—Ç–æ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –±—É–¥—É—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –≤–æ –≤–Ω–µ—à–Ω–∏–π API.

–°–ª–µ–¥–æ–º –∏–¥—É—Ç –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –Ω–∞ –¥–≤–∞ –≤–∏–¥–∞: REST –∏ gRPC. –ü—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ—Å—Ç–∞, –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã —Å –æ–±–æ–∏–º–∏
–≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏.

–ó–∞—Ç–µ–º GraphQl Federation, —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è. –ß—Ç–æ —ç—Ç–æ –∏ —Å —á–µ–º –µ–≥–æ –µ–¥—è—Ç—å —è –ø–æ–∫–∞–∂—É –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ. –í–º–µ—Å—Ç–µ —Å —Ç–µ–º, —Å–æ–≤–µ—Ç—É—é
–ø–æ—á–∏—Ç–∞—Ç—å –ø–∞—Ä—É —Å—Ç–∞—Ç–µ–π (–°–¢–ê–¢–¨–ò)

–ò –∑–∞–≤–µ—Ä—à–∞–µ—Ç —ç—Ç–æ –≤—Å–µ, –∞ —Ç–æ—á–Ω–µ–µ —Å –Ω–∏—Ö –≤—Å–µ –∏ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è, —ç—Ç–æ –Ω–∞—à–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏.

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ—è –æ–∫—Ä—É–∂–µ–Ω–∏–µ (STACK):**

–í—Å—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –±—É–¥–µ—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –≤ monorepo —É–ø—Ä–∞–≤–ª—è–µ–º–æ–π #nrwl.

- –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å Angular
- GraphQl: NestJS + Apollo
- –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏s—ã: NestJS.

**–ù–∞—á–Ω–µ–º –®–∞–≥ 1 - —Å–æ–∑–¥–∞–¥–∏–º –Ω–∞—à –ø—Ä–æ–µ–∫—Ç.**

–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤ –Ω–∞—à–µ–º –ø—Ä–∏–º–µ—Ä–µ –±—É–¥–µ—Ç ‚Äòtvflix‚Äô

```
npx create-nx-workspace --preset=angular
```

–ü—Ä–∏–π–¥–µ—Ç—Å—è –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –ø–∞—Ä—É –≤–æ—Ä–ø–æ—Å–æ–≤:

```
‚úî Workspace name (e.g., org name)     ¬∑ tvflix
‚úî Application name                    ¬∑ tvflix
‚úî Default stylesheet format           ¬∑ scss
‚úî Use Nx Cloud? (It's free and doesn't require registration.) ¬∑ No
```

–ü–æ–∫–∞ –≤—Å–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è, –º–æ–∂–Ω–æ –ø–æ–π—Ç–∏ —Å–¥–µ–ª–∞—Ç—å —á–∞—à–µ—á–∫—É –∫–æ—Ñ–µ.

–û—Ç–∫—Ä—ã–≤–∞–µ–º –ø—Ä–æ–µ–∫—Ç –≤ –ª—é–±–∏–º–æ–º IDE:
![](project_structure_!.png)

–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç, –≤—Å–µ —á—Ç–æ —É –Ω–∞—Å –µ—Å—Ç—å, —ç—Ç–æ –≤—Å–µ–≥–æ-–ª–∏—à—å –ø—Ä–æ—Å—Ç–∞—è Angular App. –∞–ø–ø–ª–∏–∫–∞—Ü–∏—è. –ú–æ–∂–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç—å –µ–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:

```
ng serve tvflix
```

–ò–¥–µ–º –Ω–∞ localhost:4200‚Ä¶

**–ù–∞—à –ø–µ—Ä–≤—ã–π API Service.**
–ù–∞—á–Ω–µ–º —Å –ø—Ä–æ—Å—Ç–æ–≥–æ, Movies MS. —ç—Ç–æ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å REST API. –°–æ–∑–¥–∞–µ–º nestJs –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å:

```
npm install -D @nrwl/nest
nx generate @nrwl/nest:application movies-ms
```

–ò–¥–µ–º –≤ `apps/movies-ms`. –ó–¥–µ—Å—å –Ω–∞—à –Ω–æ–≤—ã–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å. –ó–∞–ø—É—Å–∫–∞–µ–º:
`nx serve movies-ms` –∏ –∏–¥–µ–º –Ω–∞ http://localhost:3333/api

–ù–∞—à –ø—Ä–æ—Å—Ç–æ–π API –≥–æ—Ç–æ–≤ :)
–ù–∞–ø–æ–º–∏–Ω–∞—é, —á—Ç–æ –º—ã —Ä–∞–±–æ—Ç–∞–µ–º –≤ —ç–Ω—Ç–µ—Ä–ø—Ä–∞–π–∑ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –Ω–∞—Å –∫—Ä–∞–π–Ω–µ –≤–∞–∂–Ω–∞. –î–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –∏ –Ω–∞ –±—É–¥—É—â–µ–µ (–æ –Ω–µ–º –ø–æ–∑–∂–µ)
–¥–æ–±–∞–≤–∏–º Swagger

```
npm install --save @nestjs/swagger swagger-ui-express
```

–ú–µ–Ω—è–µ–º main.ts in movies-ms to:

```typescript
import { Logger } from '@nestjs/common';
import { NestFactory } from '@nestjs/core';

import { AppModule } from './app/app.module';
import { DocumentBuilder, SwaggerModule } from "@nestjs/swagger";

async function bootstrap() {
  const app = await NestFactory.create(AppModule);
  const globalPrefix = 'api';
  const config = new DocumentBuilder()
    .setTitle('Movies MS')
    .setDescription('RESTFull API for Movies Entities')
    .setVersion('1.0')
    .addTag('movies')
    .build();
  const document = SwaggerModule.createDocument(app, config);
  SwaggerModule.setup('api', app, document);

  const port = process.env.PORT || 3333;
  await app.listen(port);
  Logger.log(
    `üöÄ Application is running on: http://localhost:${port}/${globalPrefix}`
  );
}

bootstrap();
```

–ò–¥–µ–º –Ω–∞ http://localhost:3333/api/
–ò –æ–ø–ø–ø–ø–∞‚Ä¶ —É –Ω–∞—Å –µ—Å—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞—à–µ–≥–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞




